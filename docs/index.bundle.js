(()=>{"use strict";var __webpack_modules__={898:(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{eval('\n;// CONCATENATED MODULE: ./src/modules/Header.js\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Header = /*#__PURE__*/function () {\n  function Header() {\n    _classCallCheck(this, Header);\n  }\n\n  _createClass(Header, [{\n    key: "renderHeader",\n    value: // DOM methods\n    function renderHeader(location) {\n      var header = document.createElement(\'header\');\n      header.innerHTML = "<h1>Sketch Pad</h1>";\n      document.querySelector(location).appendChild(header);\n    }\n  }]);\n\n  return Header;\n}();\n\n/* harmony default export */ const modules_Header = (Header);\n;// CONCATENATED MODULE: ./src/modules/Footer.js\nfunction Footer_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction Footer_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction Footer_createClass(Constructor, protoProps, staticProps) { if (protoProps) Footer_defineProperties(Constructor.prototype, protoProps); if (staticProps) Footer_defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Footer = /*#__PURE__*/function () {\n  function Footer() {\n    Footer_classCallCheck(this, Footer);\n  }\n\n  Footer_createClass(Footer, [{\n    key: "renderFooter",\n    value: // DOM methods\n    function renderFooter(location) {\n      var footer = document.createElement(\'footer\');\n      footer.innerHTML = "Created by <a href=\\"https://autumnchris.github.io/portfolio\\" target=\\"_blank\\">Autumn Bullard</a> &copy; ".concat(new Date().getFullYear());\n      document.querySelector(location).appendChild(footer);\n    }\n  }]);\n\n  return Footer;\n}();\n\n/* harmony default export */ const modules_Footer = (Footer);\n;// CONCATENATED MODULE: ./src/modules/SketchGrid.js\nfunction SketchGrid_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction SketchGrid_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction SketchGrid_createClass(Constructor, protoProps, staticProps) { if (protoProps) SketchGrid_defineProperties(Constructor.prototype, protoProps); if (staticProps) SketchGrid_defineProperties(Constructor, staticProps); return Constructor; }\n\nvar SketchGrid = /*#__PURE__*/function () {\n  function SketchGrid() {\n    SketchGrid_classCallCheck(this, SketchGrid);\n  }\n\n  SketchGrid_createClass(SketchGrid, [{\n    key: "clearSketchGrid",\n    value: // DOM methods\n    function clearSketchGrid() {\n      document.querySelectorAll(\'.grid .square\').forEach(function (square) {\n        square.classList.remove(\'shaded-square\');\n      });\n    }\n  }, {\n    key: "createGridSquares",\n    value: function createGridSquares(gridSize) {\n      var squareSize = Math.round(400 / gridSize);\n      var newGrid = new Array(gridSize * gridSize).fill(\'\');\n      var grid = document.querySelector(\'.grid-container .grid\');\n      grid.style.gridTemplateRows = "repeat(".concat(gridSize, ", ").concat(squareSize, "px)");\n      grid.style.gridTemplateColumns = "repeat(".concat(gridSize, ", ").concat(squareSize, "px)");\n      grid.innerHTML = newGrid.map(function (square) {\n        return "<div class=\\"square\\"></div>";\n      }).join(\'\');\n    }\n  }, {\n    key: "renderSketchGrid",\n    value: function renderSketchGrid(gridSize, location) {\n      var gridContainer = document.createElement(\'div\');\n      gridContainer.classList.add(\'grid-container\');\n      gridContainer.innerHTML = "\\n      <div class=\\"grid\\"></div>\\n      <p class=\\"grid-size\\">Current grid size is ".concat(gridSize, "px by ").concat(gridSize, "px.</p>\\n    ");\n      document.querySelector(location).appendChild(gridContainer);\n      this.createGridSquares(gridSize);\n    }\n  }, {\n    key: "removeSketchGrid",\n    value: function removeSketchGrid(location) {\n      var gridContainer = document.querySelector("".concat(location, " .grid-container"));\n      gridContainer ? document.querySelector(location).removeChild(gridContainer) : null;\n    }\n  }]);\n\n  return SketchGrid;\n}();\n\n/* harmony default export */ const modules_SketchGrid = (SketchGrid);\n;// CONCATENATED MODULE: ./src/modules/ErrorMessage.js\nfunction ErrorMessage_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction ErrorMessage_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction ErrorMessage_createClass(Constructor, protoProps, staticProps) { if (protoProps) ErrorMessage_defineProperties(Constructor.prototype, protoProps); if (staticProps) ErrorMessage_defineProperties(Constructor, staticProps); return Constructor; }\n\nvar ErrorMessage = /*#__PURE__*/function () {\n  function ErrorMessage() {\n    ErrorMessage_classCallCheck(this, ErrorMessage);\n  }\n\n  ErrorMessage_createClass(ErrorMessage, [{\n    key: "renderErrorMessage",\n    value: // DOM methods\n    function renderErrorMessage(message, location) {\n      var errorMessage = document.createElement(\'p\');\n      errorMessage.classList.add(\'message\', \'error-message\');\n      errorMessage.innerHTML = "<span class=\\"fa fa-exclamation-circle fa-lg fa-fw\\" aria-hidden=\\"true\\"></span> ".concat(message);\n      document.querySelector(location).appendChild(errorMessage);\n    }\n  }, {\n    key: "removeErrorMessage",\n    value: function removeErrorMessage(location) {\n      var errorMessage = document.querySelector("".concat(location, " .error-message"));\n      errorMessage ? document.querySelector(location).removeChild(errorMessage) : null;\n    }\n  }]);\n\n  return ErrorMessage;\n}();\n\n/* harmony default export */ const modules_ErrorMessage = (ErrorMessage);\n;// CONCATENATED MODULE: ./src/utils/getLocalStorage.js\nfunction getLocalStorage(key) {\n  return JSON.parse(localStorage.getItem(key));\n}\n;// CONCATENATED MODULE: ./src/utils/setToLocalStorage.js\nfunction setToLocalStorage(key, value) {\n  localStorage.setItem(key, JSON.stringify(value));\n}\n;// CONCATENATED MODULE: ./src/utils/getGridSize.js\n\n\nfunction getGridSize(value) {\n  if (value) setToLocalStorage(\'gridSize\', value);\n  return getLocalStorage(\'gridSize\') || 16;\n}\n;// CONCATENATED MODULE: ./src/modules/SettingsModal.js\nfunction SettingsModal_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction SettingsModal_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction SettingsModal_createClass(Constructor, protoProps, staticProps) { if (protoProps) SettingsModal_defineProperties(Constructor.prototype, protoProps); if (staticProps) SettingsModal_defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\nvar SettingsModal = /*#__PURE__*/function () {\n  function SettingsModal() {\n    SettingsModal_classCallCheck(this, SettingsModal);\n\n    this.sketchGrid = new modules_SketchGrid();\n    this.errorMessage = new modules_ErrorMessage();\n  }\n\n  SettingsModal_createClass(SettingsModal, [{\n    key: "handleSubmit",\n    value: function handleSubmit(event, gridSize) {\n      event.preventDefault();\n      this.errorMessage.removeErrorMessage(\'#modal .modal-body\');\n      gridSize = Number(gridSize);\n\n      if (!isNaN(gridSize) && gridSize >= 16 && gridSize < 101) {\n        if (Math.floor(gridSize) !== gridSize) gridSize = Math.floor(gridSize);\n        this.gridSize = gridSize;\n        getGridSize(gridSize);\n        this.sketchGrid.removeSketchGrid(\'main\');\n        this.sketchGrid.renderSketchGrid(gridSize, \'main\');\n        this.removeSettingsModal(\'main\');\n      } else {\n        this.errorMessage.renderErrorMessage(\'Please enter a number that is greater than 15 and less than 101.\', \'#modal .modal-body\');\n      }\n    } // DOM methods\n\n  }, {\n    key: "renderSettingsModal",\n    value: function renderSettingsModal(location) {\n      var settingsModal = document.createElement(\'div\');\n      settingsModal.setAttribute(\'id\', \'modal\');\n      settingsModal.classList.add(\'modal\');\n      settingsModal.innerHTML = "\\n      <div class=\\"modal-content\\">\\n        <div class=\\"modal-header\\">Resize Grid</div>\\n        <div class=\\"modal-body\\">\\n          <form class=\\"resize-form\\" novalidate>\\n            <div class=\\"form-group\\">\\n              <label for=\\"size-input\\">Pixels:</label>\\n              <input type=\\"text\\" value=\\"".concat(getGridSize(), "\\" inputmode=\\"numeric\\" id=\\"size-input\\" required />\\n            </div>\\n            <div class=\\"button-group\\">\\n              <button type=\\"submit\\" class=\\"button modal-button\\">Save</button>\\n              <button type=\\"button\\" class=\\"button modal-button cancel\\">Cancel</button>\\n            </div>\\n          </form>\\n        </div>\\n      </div>\\n    ");\n      document.querySelector(location).appendChild(settingsModal);\n      document.querySelector(\'body\').classList.add(\'modal-open\');\n    }\n  }, {\n    key: "removeSettingsModal",\n    value: function removeSettingsModal(location) {\n      var settingsModal = document.querySelector("".concat(location, " #modal"));\n      settingsModal ? document.querySelector(location).removeChild(settingsModal) : null;\n      document.querySelector(\'body\').classList.remove(\'modal-open\');\n    }\n  }]);\n\n  return SettingsModal;\n}();\n\n/* harmony default export */ const modules_SettingsModal = (SettingsModal);\n;// CONCATENATED MODULE: ./src/App.js\nfunction App_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction App_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction App_createClass(Constructor, protoProps, staticProps) { if (protoProps) App_defineProperties(Constructor.prototype, protoProps); if (staticProps) App_defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\nvar App = /*#__PURE__*/function () {\n  function App() {\n    App_classCallCheck(this, App);\n\n    this.header = new modules_Header();\n    this.footer = new modules_Footer();\n    this.sketchGrid = new modules_SketchGrid();\n    this.settingsModal = new modules_SettingsModal();\n    this.renderApp();\n    this.events();\n  } // Event listeners\n\n\n  App_createClass(App, [{\n    key: "events",\n    value: function events() {\n      var _this = this;\n\n      document.addEventListener(\'click\', function (event) {\n        var element = event.target;\n        element.matches(\'.grid-buttons .resize-button\') ? _this.settingsModal.renderSettingsModal(\'main\') : null;\n        element.matches(\'.grid-buttons .clear-button\') ? _this.sketchGrid.clearSketchGrid() : null;\n        element.matches(\'#modal .modal-button.cancel\') ? _this.settingsModal.removeSettingsModal(\'main\') : null;\n        element.matches(\'#modal\') ? _this.settingsModal.removeSettingsModal(\'main\') : null;\n      });\n      document.addEventListener(\'submit\', function (event) {\n        var element = event.target;\n        element.matches(\'#modal .resize-form\') ? _this.settingsModal.handleSubmit(event, document.querySelector(\'#size-input\').value) : null;\n      });\n      document.addEventListener(\'mouseover\', function (event) {\n        var element = event.target;\n        element.matches(\'.grid .square\') ? event.target.className = \'square shaded-square\' : null;\n      });\n      document.addEventListener(\'keydown\', function (event) {\n        document.querySelector(\'#modal\') && event.key === \'Escape\' ? _this.settingsModal.removeSettingsModal(\'main\') : null;\n      });\n    } // DOM methods\n\n  }, {\n    key: "renderApp",\n    value: function renderApp() {\n      this.header.renderHeader(\'#app\');\n      this.renderMain(\'#app\');\n      this.footer.renderFooter(\'#app\');\n      this.sketchGrid.renderSketchGrid(getGridSize(), \'main\');\n    }\n  }, {\n    key: "renderMain",\n    value: function renderMain(location) {\n      var main = document.createElement(\'main\');\n      main.innerHTML = "\\n      <div class=\\"button-group grid-buttons\\">\\n        <button type=\\"button\\" class=\\"button clear-button\\">Clear</button>\\n        <button type=\\"button\\" class=\\"button resize-button\\">Resize</button>\\n      </div>\\n    ";\n      document.querySelector(location).appendChild(main);\n    }\n  }]);\n\n  return App;\n}();\n\n/* harmony default export */ const src_App = (App);\n;// CONCATENATED MODULE: ./node_modules/file-loader/dist/cjs.js?name=[name].[ext]!./src/index.html\n/* harmony default export */ const cjsname_name_ext_src = (__webpack_require__.p + "index.html");\n;// CONCATENATED MODULE: ./node_modules/file-loader/dist/cjs.js?name=[name].[ext]!./src/favicon.ico\n/* harmony default export */ const favicon = (__webpack_require__.p + "favicon.ico");\n;// CONCATENATED MODULE: ./src/index.js\n\n\n\n\n\nnew src_App();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODk4LmpzIiwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvQkE7QUFDQTtBQUNBOztBQ0ZBO0FBQ0E7QUFDQTs7QUNGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RFQTs7QUNBQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9za2V0Y2gtcGFkLy4vc3JjL21vZHVsZXMvSGVhZGVyLmpzP2U4NWMiLCJ3ZWJwYWNrOi8vc2tldGNoLXBhZC8uL3NyYy9tb2R1bGVzL0Zvb3Rlci5qcz80MTNmIiwid2VicGFjazovL3NrZXRjaC1wYWQvLi9zcmMvbW9kdWxlcy9Ta2V0Y2hHcmlkLmpzPzZiYzkiLCJ3ZWJwYWNrOi8vc2tldGNoLXBhZC8uL3NyYy9tb2R1bGVzL0Vycm9yTWVzc2FnZS5qcz81MWQ5Iiwid2VicGFjazovL3NrZXRjaC1wYWQvLi9zcmMvdXRpbHMvZ2V0TG9jYWxTdG9yYWdlLmpzP2YyMWMiLCJ3ZWJwYWNrOi8vc2tldGNoLXBhZC8uL3NyYy91dGlscy9zZXRUb0xvY2FsU3RvcmFnZS5qcz8wNGNjIiwid2VicGFjazovL3NrZXRjaC1wYWQvLi9zcmMvdXRpbHMvZ2V0R3JpZFNpemUuanM/Nzk3NCIsIndlYnBhY2s6Ly9za2V0Y2gtcGFkLy4vc3JjL21vZHVsZXMvU2V0dGluZ3NNb2RhbC5qcz81Y2U4Iiwid2VicGFjazovL3NrZXRjaC1wYWQvLi9zcmMvQXBwLmpzPzMzMjciLCJ3ZWJwYWNrOi8vc2tldGNoLXBhZC8uL3NyYy9pbmRleC5odG1sPzczY2YiLCJ3ZWJwYWNrOi8vc2tldGNoLXBhZC8uL3NyYy9mYXZpY29uLmljbz9hZTcwIiwid2VicGFjazovL3NrZXRjaC1wYWQvLi9zcmMvaW5kZXguanM/ZDliZSJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbnZhciBIZWFkZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBIZWFkZXIoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEhlYWRlcik7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoSGVhZGVyLCBbe1xuICAgIGtleTogXCJyZW5kZXJIZWFkZXJcIixcbiAgICB2YWx1ZTogLy8gRE9NIG1ldGhvZHNcbiAgICBmdW5jdGlvbiByZW5kZXJIZWFkZXIobG9jYXRpb24pIHtcbiAgICAgIHZhciBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoZWFkZXInKTtcbiAgICAgIGhlYWRlci5pbm5lckhUTUwgPSBcIjxoMT5Ta2V0Y2ggUGFkPC9oMT5cIjtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobG9jYXRpb24pLmFwcGVuZENoaWxkKGhlYWRlcik7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEhlYWRlcjtcbn0oKTtcblxuZXhwb3J0IGRlZmF1bHQgSGVhZGVyOyIsImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxudmFyIEZvb3RlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEZvb3RlcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRm9vdGVyKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhGb290ZXIsIFt7XG4gICAga2V5OiBcInJlbmRlckZvb3RlclwiLFxuICAgIHZhbHVlOiAvLyBET00gbWV0aG9kc1xuICAgIGZ1bmN0aW9uIHJlbmRlckZvb3Rlcihsb2NhdGlvbikge1xuICAgICAgdmFyIGZvb3RlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvb3RlcicpO1xuICAgICAgZm9vdGVyLmlubmVySFRNTCA9IFwiQ3JlYXRlZCBieSA8YSBocmVmPVxcXCJodHRwczovL2F1dHVtbmNocmlzLmdpdGh1Yi5pby9wb3J0Zm9saW9cXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIj5BdXR1bW4gQnVsbGFyZDwvYT4gJmNvcHk7IFwiLmNvbmNhdChuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCkpO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihsb2NhdGlvbikuYXBwZW5kQ2hpbGQoZm9vdGVyKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gRm9vdGVyO1xufSgpO1xuXG5leHBvcnQgZGVmYXVsdCBGb290ZXI7IiwiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG52YXIgU2tldGNoR3JpZCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFNrZXRjaEdyaWQoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNrZXRjaEdyaWQpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFNrZXRjaEdyaWQsIFt7XG4gICAga2V5OiBcImNsZWFyU2tldGNoR3JpZFwiLFxuICAgIHZhbHVlOiAvLyBET00gbWV0aG9kc1xuICAgIGZ1bmN0aW9uIGNsZWFyU2tldGNoR3JpZCgpIHtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5ncmlkIC5zcXVhcmUnKS5mb3JFYWNoKGZ1bmN0aW9uIChzcXVhcmUpIHtcbiAgICAgICAgc3F1YXJlLmNsYXNzTGlzdC5yZW1vdmUoJ3NoYWRlZC1zcXVhcmUnKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjcmVhdGVHcmlkU3F1YXJlc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVHcmlkU3F1YXJlcyhncmlkU2l6ZSkge1xuICAgICAgdmFyIHNxdWFyZVNpemUgPSBNYXRoLnJvdW5kKDQwMCAvIGdyaWRTaXplKTtcbiAgICAgIHZhciBuZXdHcmlkID0gbmV3IEFycmF5KGdyaWRTaXplICogZ3JpZFNpemUpLmZpbGwoJycpO1xuICAgICAgdmFyIGdyaWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZ3JpZC1jb250YWluZXIgLmdyaWQnKTtcbiAgICAgIGdyaWQuc3R5bGUuZ3JpZFRlbXBsYXRlUm93cyA9IFwicmVwZWF0KFwiLmNvbmNhdChncmlkU2l6ZSwgXCIsIFwiKS5jb25jYXQoc3F1YXJlU2l6ZSwgXCJweClcIik7XG4gICAgICBncmlkLnN0eWxlLmdyaWRUZW1wbGF0ZUNvbHVtbnMgPSBcInJlcGVhdChcIi5jb25jYXQoZ3JpZFNpemUsIFwiLCBcIikuY29uY2F0KHNxdWFyZVNpemUsIFwicHgpXCIpO1xuICAgICAgZ3JpZC5pbm5lckhUTUwgPSBuZXdHcmlkLm1hcChmdW5jdGlvbiAoc3F1YXJlKSB7XG4gICAgICAgIHJldHVybiBcIjxkaXYgY2xhc3M9XFxcInNxdWFyZVxcXCI+PC9kaXY+XCI7XG4gICAgICB9KS5qb2luKCcnKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyU2tldGNoR3JpZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJTa2V0Y2hHcmlkKGdyaWRTaXplLCBsb2NhdGlvbikge1xuICAgICAgdmFyIGdyaWRDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGdyaWRDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnZ3JpZC1jb250YWluZXInKTtcbiAgICAgIGdyaWRDb250YWluZXIuaW5uZXJIVE1MID0gXCJcXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJncmlkXFxcIj48L2Rpdj5cXG4gICAgICA8cCBjbGFzcz1cXFwiZ3JpZC1zaXplXFxcIj5DdXJyZW50IGdyaWQgc2l6ZSBpcyBcIi5jb25jYXQoZ3JpZFNpemUsIFwicHggYnkgXCIpLmNvbmNhdChncmlkU2l6ZSwgXCJweC48L3A+XFxuICAgIFwiKTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobG9jYXRpb24pLmFwcGVuZENoaWxkKGdyaWRDb250YWluZXIpO1xuICAgICAgdGhpcy5jcmVhdGVHcmlkU3F1YXJlcyhncmlkU2l6ZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZVNrZXRjaEdyaWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlU2tldGNoR3JpZChsb2NhdGlvbikge1xuICAgICAgdmFyIGdyaWRDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiXCIuY29uY2F0KGxvY2F0aW9uLCBcIiAuZ3JpZC1jb250YWluZXJcIikpO1xuICAgICAgZ3JpZENvbnRhaW5lciA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobG9jYXRpb24pLnJlbW92ZUNoaWxkKGdyaWRDb250YWluZXIpIDogbnVsbDtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gU2tldGNoR3JpZDtcbn0oKTtcblxuZXhwb3J0IGRlZmF1bHQgU2tldGNoR3JpZDsiLCJmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbnZhciBFcnJvck1lc3NhZ2UgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBFcnJvck1lc3NhZ2UoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEVycm9yTWVzc2FnZSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoRXJyb3JNZXNzYWdlLCBbe1xuICAgIGtleTogXCJyZW5kZXJFcnJvck1lc3NhZ2VcIixcbiAgICB2YWx1ZTogLy8gRE9NIG1ldGhvZHNcbiAgICBmdW5jdGlvbiByZW5kZXJFcnJvck1lc3NhZ2UobWVzc2FnZSwgbG9jYXRpb24pIHtcbiAgICAgIHZhciBlcnJvck1lc3NhZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICBlcnJvck1lc3NhZ2UuY2xhc3NMaXN0LmFkZCgnbWVzc2FnZScsICdlcnJvci1tZXNzYWdlJyk7XG4gICAgICBlcnJvck1lc3NhZ2UuaW5uZXJIVE1MID0gXCI8c3BhbiBjbGFzcz1cXFwiZmEgZmEtZXhjbGFtYXRpb24tY2lyY2xlIGZhLWxnIGZhLWZ3XFxcIiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCI+PC9zcGFuPiBcIi5jb25jYXQobWVzc2FnZSk7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGxvY2F0aW9uKS5hcHBlbmRDaGlsZChlcnJvck1lc3NhZ2UpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW1vdmVFcnJvck1lc3NhZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlRXJyb3JNZXNzYWdlKGxvY2F0aW9uKSB7XG4gICAgICB2YXIgZXJyb3JNZXNzYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIlwiLmNvbmNhdChsb2NhdGlvbiwgXCIgLmVycm9yLW1lc3NhZ2VcIikpO1xuICAgICAgZXJyb3JNZXNzYWdlID8gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihsb2NhdGlvbikucmVtb3ZlQ2hpbGQoZXJyb3JNZXNzYWdlKSA6IG51bGw7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEVycm9yTWVzc2FnZTtcbn0oKTtcblxuZXhwb3J0IGRlZmF1bHQgRXJyb3JNZXNzYWdlOyIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldExvY2FsU3RvcmFnZShrZXkpIHtcbiAgcmV0dXJuIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KSk7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2V0VG9Mb2NhbFN0b3JhZ2Uoa2V5LCB2YWx1ZSkge1xuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIEpTT04uc3RyaW5naWZ5KHZhbHVlKSk7XG59IiwiaW1wb3J0IGdldExvY2FsU3RvcmFnZSBmcm9tICcuL2dldExvY2FsU3RvcmFnZSc7XG5pbXBvcnQgc2V0VG9Mb2NhbFN0b3JhZ2UgZnJvbSAnLi9zZXRUb0xvY2FsU3RvcmFnZSc7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRHcmlkU2l6ZSh2YWx1ZSkge1xuICBpZiAodmFsdWUpIHNldFRvTG9jYWxTdG9yYWdlKCdncmlkU2l6ZScsIHZhbHVlKTtcbiAgcmV0dXJuIGdldExvY2FsU3RvcmFnZSgnZ3JpZFNpemUnKSB8fCAxNjtcbn0iLCJmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmltcG9ydCBTa2V0Y2hHcmlkIGZyb20gJy4vU2tldGNoR3JpZCc7XG5pbXBvcnQgRXJyb3JNZXNzYWdlIGZyb20gJy4vRXJyb3JNZXNzYWdlJztcbmltcG9ydCBnZXRHcmlkU2l6ZSBmcm9tICcuLi91dGlscy9nZXRHcmlkU2l6ZSc7XG5cbnZhciBTZXR0aW5nc01vZGFsID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gU2V0dGluZ3NNb2RhbCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2V0dGluZ3NNb2RhbCk7XG5cbiAgICB0aGlzLnNrZXRjaEdyaWQgPSBuZXcgU2tldGNoR3JpZCgpO1xuICAgIHRoaXMuZXJyb3JNZXNzYWdlID0gbmV3IEVycm9yTWVzc2FnZSgpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFNldHRpbmdzTW9kYWwsIFt7XG4gICAga2V5OiBcImhhbmRsZVN1Ym1pdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVTdWJtaXQoZXZlbnQsIGdyaWRTaXplKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5lcnJvck1lc3NhZ2UucmVtb3ZlRXJyb3JNZXNzYWdlKCcjbW9kYWwgLm1vZGFsLWJvZHknKTtcbiAgICAgIGdyaWRTaXplID0gTnVtYmVyKGdyaWRTaXplKTtcblxuICAgICAgaWYgKCFpc05hTihncmlkU2l6ZSkgJiYgZ3JpZFNpemUgPj0gMTYgJiYgZ3JpZFNpemUgPCAxMDEpIHtcbiAgICAgICAgaWYgKE1hdGguZmxvb3IoZ3JpZFNpemUpICE9PSBncmlkU2l6ZSkgZ3JpZFNpemUgPSBNYXRoLmZsb29yKGdyaWRTaXplKTtcbiAgICAgICAgdGhpcy5ncmlkU2l6ZSA9IGdyaWRTaXplO1xuICAgICAgICBnZXRHcmlkU2l6ZShncmlkU2l6ZSk7XG4gICAgICAgIHRoaXMuc2tldGNoR3JpZC5yZW1vdmVTa2V0Y2hHcmlkKCdtYWluJyk7XG4gICAgICAgIHRoaXMuc2tldGNoR3JpZC5yZW5kZXJTa2V0Y2hHcmlkKGdyaWRTaXplLCAnbWFpbicpO1xuICAgICAgICB0aGlzLnJlbW92ZVNldHRpbmdzTW9kYWwoJ21haW4nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZXJyb3JNZXNzYWdlLnJlbmRlckVycm9yTWVzc2FnZSgnUGxlYXNlIGVudGVyIGEgbnVtYmVyIHRoYXQgaXMgZ3JlYXRlciB0aGFuIDE1IGFuZCBsZXNzIHRoYW4gMTAxLicsICcjbW9kYWwgLm1vZGFsLWJvZHknKTtcbiAgICAgIH1cbiAgICB9IC8vIERPTSBtZXRob2RzXG5cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJTZXR0aW5nc01vZGFsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlclNldHRpbmdzTW9kYWwobG9jYXRpb24pIHtcbiAgICAgIHZhciBzZXR0aW5nc01vZGFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBzZXR0aW5nc01vZGFsLnNldEF0dHJpYnV0ZSgnaWQnLCAnbW9kYWwnKTtcbiAgICAgIHNldHRpbmdzTW9kYWwuY2xhc3NMaXN0LmFkZCgnbW9kYWwnKTtcbiAgICAgIHNldHRpbmdzTW9kYWwuaW5uZXJIVE1MID0gXCJcXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJtb2RhbC1jb250ZW50XFxcIj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcIm1vZGFsLWhlYWRlclxcXCI+UmVzaXplIEdyaWQ8L2Rpdj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcIm1vZGFsLWJvZHlcXFwiPlxcbiAgICAgICAgICA8Zm9ybSBjbGFzcz1cXFwicmVzaXplLWZvcm1cXFwiIG5vdmFsaWRhdGU+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuICAgICAgICAgICAgICA8bGFiZWwgZm9yPVxcXCJzaXplLWlucHV0XFxcIj5QaXhlbHM6PC9sYWJlbD5cXG4gICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiB2YWx1ZT1cXFwiXCIuY29uY2F0KGdldEdyaWRTaXplKCksIFwiXFxcIiBpbnB1dG1vZGU9XFxcIm51bWVyaWNcXFwiIGlkPVxcXCJzaXplLWlucHV0XFxcIiByZXF1aXJlZCAvPlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImJ1dHRvbi1ncm91cFxcXCI+XFxuICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcInN1Ym1pdFxcXCIgY2xhc3M9XFxcImJ1dHRvbiBtb2RhbC1idXR0b25cXFwiPlNhdmU8L2J1dHRvbj5cXG4gICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnV0dG9uIG1vZGFsLWJ1dHRvbiBjYW5jZWxcXFwiPkNhbmNlbDwvYnV0dG9uPlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICA8L2Zvcm0+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICA8L2Rpdj5cXG4gICAgXCIpO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihsb2NhdGlvbikuYXBwZW5kQ2hpbGQoc2V0dGluZ3NNb2RhbCk7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5JykuY2xhc3NMaXN0LmFkZCgnbW9kYWwtb3BlbicpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW1vdmVTZXR0aW5nc01vZGFsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZVNldHRpbmdzTW9kYWwobG9jYXRpb24pIHtcbiAgICAgIHZhciBzZXR0aW5nc01vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIlwiLmNvbmNhdChsb2NhdGlvbiwgXCIgI21vZGFsXCIpKTtcbiAgICAgIHNldHRpbmdzTW9kYWwgPyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGxvY2F0aW9uKS5yZW1vdmVDaGlsZChzZXR0aW5nc01vZGFsKSA6IG51bGw7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5JykuY2xhc3NMaXN0LnJlbW92ZSgnbW9kYWwtb3BlbicpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBTZXR0aW5nc01vZGFsO1xufSgpO1xuXG5leHBvcnQgZGVmYXVsdCBTZXR0aW5nc01vZGFsOyIsImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuaW1wb3J0IEhlYWRlciBmcm9tICcuL21vZHVsZXMvSGVhZGVyJztcbmltcG9ydCBGb290ZXIgZnJvbSAnLi9tb2R1bGVzL0Zvb3Rlcic7XG5pbXBvcnQgU2tldGNoR3JpZCBmcm9tICcuL21vZHVsZXMvU2tldGNoR3JpZCc7XG5pbXBvcnQgU2V0dGluZ3NNb2RhbCBmcm9tICcuL21vZHVsZXMvU2V0dGluZ3NNb2RhbCc7XG5pbXBvcnQgZ2V0R3JpZFNpemUgZnJvbSAnLi91dGlscy9nZXRHcmlkU2l6ZSc7XG5cbnZhciBBcHAgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBBcHAoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFwcCk7XG5cbiAgICB0aGlzLmhlYWRlciA9IG5ldyBIZWFkZXIoKTtcbiAgICB0aGlzLmZvb3RlciA9IG5ldyBGb290ZXIoKTtcbiAgICB0aGlzLnNrZXRjaEdyaWQgPSBuZXcgU2tldGNoR3JpZCgpO1xuICAgIHRoaXMuc2V0dGluZ3NNb2RhbCA9IG5ldyBTZXR0aW5nc01vZGFsKCk7XG4gICAgdGhpcy5yZW5kZXJBcHAoKTtcbiAgICB0aGlzLmV2ZW50cygpO1xuICB9IC8vIEV2ZW50IGxpc3RlbmVyc1xuXG5cbiAgX2NyZWF0ZUNsYXNzKEFwcCwgW3tcbiAgICBrZXk6IFwiZXZlbnRzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGV2ZW50cygpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICBlbGVtZW50Lm1hdGNoZXMoJy5ncmlkLWJ1dHRvbnMgLnJlc2l6ZS1idXR0b24nKSA/IF90aGlzLnNldHRpbmdzTW9kYWwucmVuZGVyU2V0dGluZ3NNb2RhbCgnbWFpbicpIDogbnVsbDtcbiAgICAgICAgZWxlbWVudC5tYXRjaGVzKCcuZ3JpZC1idXR0b25zIC5jbGVhci1idXR0b24nKSA/IF90aGlzLnNrZXRjaEdyaWQuY2xlYXJTa2V0Y2hHcmlkKCkgOiBudWxsO1xuICAgICAgICBlbGVtZW50Lm1hdGNoZXMoJyNtb2RhbCAubW9kYWwtYnV0dG9uLmNhbmNlbCcpID8gX3RoaXMuc2V0dGluZ3NNb2RhbC5yZW1vdmVTZXR0aW5nc01vZGFsKCdtYWluJykgOiBudWxsO1xuICAgICAgICBlbGVtZW50Lm1hdGNoZXMoJyNtb2RhbCcpID8gX3RoaXMuc2V0dGluZ3NNb2RhbC5yZW1vdmVTZXR0aW5nc01vZGFsKCdtYWluJykgOiBudWxsO1xuICAgICAgfSk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBldmVudC50YXJnZXQ7XG4gICAgICAgIGVsZW1lbnQubWF0Y2hlcygnI21vZGFsIC5yZXNpemUtZm9ybScpID8gX3RoaXMuc2V0dGluZ3NNb2RhbC5oYW5kbGVTdWJtaXQoZXZlbnQsIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzaXplLWlucHV0JykudmFsdWUpIDogbnVsbDtcbiAgICAgIH0pO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICBlbGVtZW50Lm1hdGNoZXMoJy5ncmlkIC5zcXVhcmUnKSA/IGV2ZW50LnRhcmdldC5jbGFzc05hbWUgPSAnc3F1YXJlIHNoYWRlZC1zcXVhcmUnIDogbnVsbDtcbiAgICAgIH0pO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbW9kYWwnKSAmJiBldmVudC5rZXkgPT09ICdFc2NhcGUnID8gX3RoaXMuc2V0dGluZ3NNb2RhbC5yZW1vdmVTZXR0aW5nc01vZGFsKCdtYWluJykgOiBudWxsO1xuICAgICAgfSk7XG4gICAgfSAvLyBET00gbWV0aG9kc1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyQXBwXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlckFwcCgpIHtcbiAgICAgIHRoaXMuaGVhZGVyLnJlbmRlckhlYWRlcignI2FwcCcpO1xuICAgICAgdGhpcy5yZW5kZXJNYWluKCcjYXBwJyk7XG4gICAgICB0aGlzLmZvb3Rlci5yZW5kZXJGb290ZXIoJyNhcHAnKTtcbiAgICAgIHRoaXMuc2tldGNoR3JpZC5yZW5kZXJTa2V0Y2hHcmlkKGdldEdyaWRTaXplKCksICdtYWluJyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlck1haW5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyTWFpbihsb2NhdGlvbikge1xuICAgICAgdmFyIG1haW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdtYWluJyk7XG4gICAgICBtYWluLmlubmVySFRNTCA9IFwiXFxuICAgICAgPGRpdiBjbGFzcz1cXFwiYnV0dG9uLWdyb3VwIGdyaWQtYnV0dG9uc1xcXCI+XFxuICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ1dHRvbiBjbGVhci1idXR0b25cXFwiPkNsZWFyPC9idXR0b24+XFxuICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ1dHRvbiByZXNpemUtYnV0dG9uXFxcIj5SZXNpemU8L2J1dHRvbj5cXG4gICAgICA8L2Rpdj5cXG4gICAgXCI7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGxvY2F0aW9uKS5hcHBlbmRDaGlsZChtYWluKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQXBwO1xufSgpO1xuXG5leHBvcnQgZGVmYXVsdCBBcHA7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImluZGV4Lmh0bWxcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiZmF2aWNvbi5pY29cIjsiLCJpbXBvcnQgQXBwIGZyb20gJy4vQXBwJztcbmltcG9ydCAnZmlsZS1sb2FkZXI/bmFtZT1bbmFtZV0uW2V4dF0hLi9pbmRleC5odG1sJztcbmltcG9ydCAnZmlsZS1sb2FkZXI/bmFtZT1bbmFtZV0uW2V4dF0hLi9mYXZpY29uLmljbyc7XG5pbXBvcnQgJ25vcm1hbGl6ZS5jc3MnO1xuaW1wb3J0ICcuL3N0eWxlc2hlZXRzL3N0eWxlLnNjc3MnO1xubmV3IEFwcCgpOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///898\n')}},__webpack_require__={};__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(c){if("object"==typeof window)return window}}(),(()=>{var c;__webpack_require__.g.importScripts&&(c=__webpack_require__.g.location+"");var e=__webpack_require__.g.document;if(!c&&e&&(e.currentScript&&(c=e.currentScript.src),!c)){var n=e.getElementsByTagName("script");n.length&&(c=n[n.length-1].src)}if(!c)throw new Error("Automatic publicPath is not supported in this browser");c=c.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=c})();var __webpack_exports__={};__webpack_modules__[898](0,__webpack_exports__,__webpack_require__)})();